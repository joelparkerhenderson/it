##
#
# AWS IAM users
#
##

 resource "aws_iam_user" "administrator" {
  name = "Administrator"
  tags = {
    name = "Administrator"
    email = "administrator@joelparkerhenderson.comm"
    zid = "8d39bbe5eda6952a51fa1f84276950ac"
  }
}

resource "aws_iam_user_login_profile" "administrator" {
  user    = aws_iam_user.administrator.name
  pgp_key = "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"
  password_length = 32
  password_reset_required = true
  lifecycle {
    ignore_changes = [password_length, password_reset_required, pgp_key]
  }
}

output "aws_iam_user__administrator__encrypted_password" {
  value = aws_iam_user_login_profile.administrator.encrypted_password
}

resource "aws_iam_user_policy_attachment" "administrator__change_password" {
  user = aws_iam_user.administrator.name
  policy_arn = "arn:aws:iam::aws:policy/IAMUserChangePassword"
}
